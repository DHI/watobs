
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Altimetry &#8212; WatObs  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="In-situ data" href="insitu.html" />
    <link rel="prev" title="Getting started" href="getting_started.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo_200px.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">WatObs  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started.html">
   Getting started
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Altimetry
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="insitu.html">
   In-situ data
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/altimetry.md.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Altimetry</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="altimetry">
<h1>Altimetry<a class="headerlink" href="#altimetry" title="Permalink to this headline">#</a></h1>
<p>Altimetry data (water level, significant wave height and wind speed) obtained from satellites are very useful for validation of models as the data are available globally since 1985 and up to 12 hour before now.</p>
<p>DHI has an <a class="reference external" href="https://altimetry.dhigroup.com/purchase">altimetry portal</a> with an <a class="reference external" href="https://altimetry-shop-data-api.dhigroup.com/apidoc">api</a> where you can download the data. If you have an api key you can access the data through this repo.</p>
<p><img alt="" src="https://github.com/DHI/WatObs/raw/main/images/altimetry_overview.png" /></p>
<dl class="py class">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">watobs.</span></span><span class="sig-name descname"><span class="pre">DHIAltimetryRepository</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watobs.DHIAltimetryRepository" title="Permalink to this definition">#</a></dt>
<dd><p>Get altimetry observations from DHI</p>
<p class="rubric">Notes</p>
<p>Get a API key by contacting <a class="reference external" href="https://www.dhi-gras.com/">https://www.dhi-gras.com/</a>
API documentation: <a class="reference external" href="https://altimetry-shop-data-api.dhigroup.com/apidoc">https://altimetry-shop-data-api.dhigroup.com/apidoc</a></p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">DHIAltimetryRepository</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span><span class="o">.</span><span class="n">satellites</span>
<span class="go">[&#39;gs&#39;,</span>
<span class="go"> &#39;e1&#39;,</span>
<span class="go"> &#39;tx&#39;,</span>
<span class="go"> &#39;pn&#39;,</span>
<span class="go"> &#39;e2&#39;,</span>
<span class="go"> &#39;g1&#39;,</span>
<span class="go"> &#39;j1&#39;,</span>
<span class="go"> &#39;n1&#39;,</span>
<span class="go"> &#39;j2&#39;,</span>
<span class="go"> &#39;c2&#39;,</span>
<span class="go"> &#39;sa&#39;,</span>
<span class="go"> &#39;j3&#39;,</span>
<span class="go"> &#39;3a&#39;,</span>
<span class="go"> &#39;3b&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">get_daily_count</span><span class="p">(</span><span class="s2">&quot;lon=10.9&amp;lat=55.9&amp;radius=10.0&quot;</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="s2">&quot;2021&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">get_altimetry_data</span><span class="p">(</span><span class="s2">&quot;lon=10.9&amp;lat=55.9&amp;radius=10.0&quot;</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="s2">&quot;2021&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">to_dfs0</span><span class="p">(</span><span class="s1">&#39;alti_data.dfs0&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.get_altimetry_data">
<span class="sig-name descname"><span class="pre">get_altimetry_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">area</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'20200101'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satellites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quality_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watobs.DHIAltimetryRepository.get_altimetry_data" title="Permalink to this definition">#</a></dt>
<dd><p>Main function that retrieves altimetry data from api</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>area</strong> (<em>str</em>) – <dl class="simple">
<dt>String specifying location of desired data.  The three forms allowed by the API are:</dt><dd><ul>
<li><p>polygon=6.811,54.993,8.009,54.993,8.009,57.154,6.811,57.154,6.811,54.993</p></li>
<li><p>bbox=115,28,150,52</p></li>
<li><p>lon=10.9&amp;lat=55.9&amp;radius=100</p></li>
</ul>
</dd>
<dt>A few named domains can also be used:</dt><dd><ul>
<li><p>GS_NorthSea, GS_BalticSea, GS_SouthChinaSea</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>start_time</strong> (<em>str</em><em>, </em><em>datetime</em><em>, </em><em>optional</em>) – Start of data to be retrieved, by default ‘20200101’</p></li>
<li><p><strong>end_time</strong> (<em>str</em><em>, </em><em>datetime</em><em>, </em><em>optional</em>) – End of data to be retrieved, by default datetime.now()</p></li>
<li><p><strong>satellites</strong> (<em>str</em><em>, </em><em>list of str</em><em>, </em><em>optional</em>) – Satellites to be downloaded, e.g. ‘’, ‘3a’, ‘j3, by default ‘’</p></li>
<li><p><strong>quality_filter</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of quality filter, e.g. ‘dhi_combined’, by default ‘’ meaning no filter</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">DHIAltimetryRepository</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">get_altimetry_data</span><span class="p">(</span><span class="s2">&quot;lon=10.9&amp;lat=55.9&amp;radius=10.0&quot;</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="s2">&quot;2021&quot;</span><span class="p">)</span>
<span class="go">Succesfully retrieved 133 records from API in 0.69 seconds</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>With columns ‘longitude’, ‘latitude’, ‘water_level’, …</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.get_altimetry_data_raw">
<span class="sig-name descname"><span class="pre">get_altimetry_data_raw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.core.frame.DataFrame</span></span></span><a class="headerlink" href="#watobs.DHIAltimetryRepository.get_altimetry_data_raw" title="Permalink to this definition">#</a></dt>
<dd><p>Request data from altimetry api</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>payload</strong> (<em>dict</em>) – params dict build with _create_query_payload()</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>APIAuthenticationFailed</strong> – if api key is wrong:</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>with altimetry data</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.get_daily_count">
<span class="sig-name descname"><span class="pre">get_daily_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">area</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'20200101'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satellites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watobs.DHIAltimetryRepository.get_daily_count" title="Permalink to this definition">#</a></dt>
<dd><p>Get total number of daily observations for a given area</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>area</strong> (<em>str</em>) – <dl class="simple">
<dt>area specification in one of three allowed formats:</dt><dd><ul>
<li><p>polygon=6.811,54.993,8.009,54.993,8.009,57.154,6.811,57.154,6.811,54.993</p></li>
<li><p>bbox=115,28,150,52</p></li>
<li><p>lon=10.9&amp;lat=55.9&amp;radius=100</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>start_time</strong> (<em>str</em><em> or </em><em>datetime</em><em>, </em><em>optional</em>) – start of time interval, by default “2020-01-01”</p></li>
<li><p><strong>end_time</strong> (<em>str</em><em> or </em><em>datetime</em><em>, </em><em>optional</em>) – end of time interval, by default datetime.now()</p></li>
<li><p><strong>satellites</strong> (<em>str</em><em>, </em><em>optional</em>) – Satellites to be downloaded, e.g. ‘’, ‘3a’, ‘j3, by default ‘’ (=all)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>number of observations per day</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.get_observation_stats">
<span class="sig-name descname"><span class="pre">get_observation_stats</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#watobs.DHIAltimetryRepository.get_observation_stats" title="Permalink to this definition">#</a></dt>
<dd><p>Get a summary of the data per satellite missions</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>min and max date and observation count per satellite</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.get_quality_filters">
<span class="sig-name descname"><span class="pre">get_quality_filters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#watobs.DHIAltimetryRepository.get_quality_filters" title="Permalink to this definition">#</a></dt>
<dd><p>Get a list of available quality filters with descriptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>available quality filters with descriptions</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.get_satellites">
<span class="sig-name descname"><span class="pre">get_satellites</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#watobs.DHIAltimetryRepository.get_satellites" title="Permalink to this definition">#</a></dt>
<dd><p>Get short and long names for available satellites</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>short and long satellite names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.get_spatial_coverage">
<span class="sig-name descname"><span class="pre">get_spatial_coverage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">area</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'20200101'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satellites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watobs.DHIAltimetryRepository.get_spatial_coverage" title="Permalink to this definition">#</a></dt>
<dd><p>Get spatial observation coverage as count per spatial bin in a
rectangle covering the specified area</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>area</strong> (<em>str</em>) – <dl class="simple">
<dt>area specification in one of three allowed formats:</dt><dd><ul>
<li><p>polygon=6.811,54.993,8.009,54.993,8.009,57.154,6.811,57.154,6.811,54.993</p></li>
<li><p>bbox=115,28,150,52</p></li>
<li><p>lon=10.9&amp;lat=55.9&amp;radius=100</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>start_time</strong> (<em>str</em><em> or </em><em>datetime</em><em>, </em><em>optional</em>) – start of time interval, by default “2020-01-01”</p></li>
<li><p><strong>end_time</strong> (<em>str</em><em> or </em><em>datetime</em><em>, </em><em>optional</em>) – end of time interval, by default datetime.now()</p></li>
<li><p><strong>satellites</strong> (<em>str</em><em>, </em><em>optional</em>) – Satellites to be downloaded, e.g. ‘’, ‘3a’, ‘j3, by default ‘’ (=all)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>count per spatial bin</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>geopandas.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.parse_satellites">
<span class="sig-name descname"><span class="pre">parse_satellites</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">satellites</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watobs.DHIAltimetryRepository.parse_satellites" title="Permalink to this definition">#</a></dt>
<dd><p>Parse a list of satellite names into an argument string to pass as part of a URL query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>satellites</strong> (<em>Union</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>str</em><em>]</em>) – <dl class="simple">
<dt>List of short or long names of satellite to include, an empty string, or the string ‘sentinels’ to specify</dt><dd><p>the two sentinel satellites 3a and 3b.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>String representing argument specifying which satellites to retrieve data from.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>InvalidSatelliteName</strong> – If a string that is not the empty string, ‘sentinels’, or part of the following lists is passed:
    [‘TOPEX’, ‘Poseidon’, ‘Jason-1’, ‘Envisat’, ‘Jason-2’, ‘SARAL’, ‘Jason-3’,
                        ‘Geosat’, ‘GFO’, ‘ERS-1’, ‘ERS-2’, ‘CryoSat-2’, ‘Sentinel-3A’, ‘Sentinel-3B’]
    [‘tx’, ‘ps’, ‘j1’, ‘n1’, ‘j2’, ‘sa’, ‘j3’, ‘gs’, ‘g1’, ‘e1’, ‘e2’, ‘c2’, ‘3a’, ‘3b’]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.plot_observation_stats">
<span class="sig-name descname"><span class="pre">plot_observation_stats</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#watobs.DHIAltimetryRepository.plot_observation_stats" title="Permalink to this definition">#</a></dt>
<dd><p>Plot graph showing temporal coverage for all satellites</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span><span class="o">.</span><span class="n">plot_observation_stats</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.satellites">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">satellites</span></span><a class="headerlink" href="#watobs.DHIAltimetryRepository.satellites" title="Permalink to this definition">#</a></dt>
<dd><p>List of avaiable satellites (short names)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="watobs.DHIAltimetryRepository.time_of_newest_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_of_newest_data</span></span><a class="headerlink" href="#watobs.DHIAltimetryRepository.time_of_newest_data" title="Permalink to this definition">#</a></dt>
<dd><p>Time of the latest data in the altimetry database.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="watobs.altimetry.AltimetryData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">watobs.altimetry.</span></span><span class="sig-name descname"><span class="pre">AltimetryData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watobs.altimetry.AltimetryData" title="Permalink to this definition">#</a></dt>
<dd><p>Class returned by DHIAltimetryRepository’s get_altimetry_data() method</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">repo</span> <span class="o">=</span> <span class="n">DHIAltimetryRepository</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">get_altimetry_data</span><span class="p">(</span><span class="s2">&quot;lon=10.9&amp;lat=55.9&amp;radius=10.0&quot;</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="s2">&quot;2021&quot;</span><span class="p">)</span>
<span class="go">Succesfully retrieved 133 records from API in 0.69 seconds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">satellites</span>
<span class="go">[&#39;j3&#39;, &#39;3a&#39;, &#39;c2&#39;, &#39;sa&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
<span class="go">Index([&#39;longitude&#39;, &#39;latitude&#39;, &#39;water_level&#39;, &#39;significant_wave_height&#39;,</span>
<span class="go">   &#39;wind_speed&#39;, &#39;distance_from_land&#39;, &#39;water_depth&#39;, &#39;satellite&#39;,</span>
<span class="go">   &#39;quality&#39;, &#39;absolute_dynamic_topography&#39;, &#39;water_level_rms&#39;,</span>
<span class="go">   &#39;significant_wave_height_raw&#39;, &#39;significant_wave_height_rms&#39;,</span>
<span class="go">   &#39;wind_speed_raw&#39;, &#39;wind_speed_rads&#39;],</span>
<span class="go">  dtype=&#39;object&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">water_level</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">date</span>
<span class="go">2021-01-04 15:30:45.051    0.0531</span>
<span class="go">2021-01-04 15:30:46.070    0.0394</span>
<span class="go">2021-01-04 15:30:47.088    0.0294</span>
<span class="go">Name: water_level, dtype: float64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">.</span><span class="n">to_dfs0</span><span class="p">(</span><span class="s1">&#39;alti_data.dfs0&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="watobs.altimetry.AltimetryData.assign_track_id">
<span class="sig-name descname"><span class="pre">assign_track_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_jump</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watobs.altimetry.AltimetryData.assign_track_id" title="Permalink to this definition">#</a></dt>
<dd><p>Identify individual passings by finding gaps in data for each satellite.</p>
<p>The track_id will be numbered 0, 1, … for each satellite.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – altimetry data (assumed to have a “satellite” column), by default None</p></li>
<li><p><strong>max_jump</strong> (<em>float</em><em>, </em><em>optional</em>) – split passings if jump larger than this number of seconds, by default 3.0</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – print status information?, by default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>as input data but with a new column “track_id”</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="watobs.altimetry.AltimetryData.end_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">end_time</span></span><a class="headerlink" href="#watobs.altimetry.AltimetryData.end_time" title="Permalink to this definition">#</a></dt>
<dd><p>End time for this data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.altimetry.AltimetryData.from_csv">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watobs.altimetry.AltimetryData.from_csv" title="Permalink to this definition">#</a></dt>
<dd><p>read altimetry data from csv file instead of api</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – path to csv file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>With datetime index containing the altimetry data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="watobs.altimetry.AltimetryData.n_points">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_points</span></span><a class="headerlink" href="#watobs.altimetry.AltimetryData.n_points" title="Permalink to this definition">#</a></dt>
<dd><p>Number of points in this dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.altimetry.AltimetryData.plot_map">
<span class="sig-name descname"><span class="pre">plot_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fig_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(9,</span> <span class="pre">9)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markersize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watobs.altimetry.AltimetryData.plot_map" title="Permalink to this definition">#</a></dt>
<dd><p>plot map of altimetry data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fig_size</strong> (<em>Tuple</em><em>(</em><em>float</em><em>)</em><em>, </em><em>optionally</em>) – size of figure, by default (12,10)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="watobs.altimetry.AltimetryData.satellites">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">satellites</span></span><a class="headerlink" href="#watobs.altimetry.AltimetryData.satellites" title="Permalink to this definition">#</a></dt>
<dd><p>Satellites for this data</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="watobs.altimetry.AltimetryData.start_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">start_time</span></span><a class="headerlink" href="#watobs.altimetry.AltimetryData.start_time" title="Permalink to this definition">#</a></dt>
<dd><p>Start time for this data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watobs.altimetry.AltimetryData.to_dfs0">
<span class="sig-name descname"><span class="pre">to_dfs0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satellite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watobs.altimetry.AltimetryData.to_dfs0" title="Permalink to this definition">#</a></dt>
<dd><p>Save altimetry data to dfs0 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – path to new dfs0 file</p></li>
<li><p><strong>satellite</strong> (<em>str</em><em>, </em><em>optional</em>) – short name of satellite to be saved, by default all</p></li>
<li><p><strong>quality</strong> (<em>int</em><em>, </em><em>optional</em>) – highest quality flag to include: 0=good, 1=acceptable, 2=bad,
if 1 is given as argument data with flag 0 and 1 will be written to
file, by default 0 (i.e. only good data)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="getting_started.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Getting started</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="insitu.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">In-situ data</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Jesper Sandvig Mariegaard<br/>
  
      &copy; Copyright 2022, DHI.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>